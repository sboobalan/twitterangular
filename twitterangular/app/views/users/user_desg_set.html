<script src="/javascripts/user_desg_set.js"></script>

<h1 id="hello">Tweets</h1>
<!--<%= link_to "Logout", users_path, class: 'rite' %><%= link_to @uname+"| ", tweet_indexn_path(@usr),class: 'rite'  %><%= link_to 'Dashboard| ', new_tweet_path,class: 'rite'   %><% if @type .eql? "moderator"%> <%= link_to 'View Tweets|', mod_front_path,class: 'rite'%><%= link_to 'Update Tweets|', tweets_path,class: 'rite'%><% end %>-->
<div class="dropdown rite">
<button onclick="myFunction()" class="dropbtn"><i class="down">
</i></button>
  <div id="myDropdown" class="dropdown-content">
  </div>
</div>

<div ng-app="userDesgView" ng-controller="userDesgViewCtrl">
<table id="display_table">
  <thead>
    <tr>
      <th>Username</th>
      <th>Designation</th>
      <th colspan="3">Filter tweets <br>
        <select ng-model="selectedFilter" ng-options = "item for item in filterValue" ng-change="applyFilter()">
            <option value="">Choose a value</option>
        </select>
        </th>
    </tr>
  </thead>

  <tbody ng-init="desg_set=0">

      <tr ng-repeat="usr in usrs" ng-init ="desg_set=desg_set+1">
        <td><a ng-href="/users/{{usr.id}}/usertweets">{{usr.username}}</a></td>
        <td>{{usr.designation}}</td>
        <td>
          <select ng-change="setDesignation(usr,desg_set)" ng-model="desg_set"  ng-options = "item for item in desgValue">
            <option value="">Update the Designation </option>
          </select>
        </td>
      </tr>
  </tbody>
</table>
</div>
<br>
<script type="text/javascript">
  var params=[
                {text : "Logout", location : "/users"},
                {text : "View Stats" , location : "/admin_stat"}
             ]
  var dropdownmenu = document.getElementById("myDropdown");
  document.onload = addDropDownItem(dropdownmenu,params);
</script>
